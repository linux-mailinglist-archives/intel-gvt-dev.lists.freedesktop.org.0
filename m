Return-Path: <intel-gvt-dev-bounces@lists.freedesktop.org>
X-Original-To: lists+intel-gvt-dev@lfdr.de
Delivered-To: lists+intel-gvt-dev@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C0BB017641
	for <lists+intel-gvt-dev@lfdr.de>; Wed,  8 May 2019 12:50:52 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 77547891F8;
	Wed,  8 May 2019 10:50:51 +0000 (UTC)
X-Original-To: intel-gvt-dev@lists.freedesktop.org
Delivered-To: intel-gvt-dev@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 448BD891F8
 for <intel-gvt-dev@lists.freedesktop.org>;
 Wed,  8 May 2019 10:50:50 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx01.intmail.prod.int.phx2.redhat.com
 [10.5.11.11])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 2CFAA89C36;
 Wed,  8 May 2019 10:50:49 +0000 (UTC)
Received: from work-vm (ovpn-117-175.ams2.redhat.com [10.36.117.175])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 3588A6013B;
 Wed,  8 May 2019 10:50:36 +0000 (UTC)
Date: Wed, 8 May 2019 11:50:33 +0100
From: "Dr. David Alan Gilbert" <dgilbert@redhat.com>
To: Yan Zhao <yan.y.zhao@intel.com>
Subject: Re: [PATCH v2 2/2] drm/i915/gvt: export mdev device version to sysfs
 for Intel vGPU
Message-ID: <20190508105032.GE2718@work-vm>
References: <20190506014514.3555-1-yan.y.zhao@intel.com>
 <20190506015102.3691-1-yan.y.zhao@intel.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190506015102.3691-1-yan.y.zhao@intel.com>
User-Agent: Mutt/1.11.4 (2019-03-13)
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.11
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.27]); Wed, 08 May 2019 10:50:49 +0000 (UTC)
X-BeenThere: intel-gvt-dev@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: "Intel GVT \(Graphics Virtualization\) development list"
 <intel-gvt-dev.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/intel-gvt-dev>, 
 <mailto:intel-gvt-dev-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/intel-gvt-dev>
List-Post: <mailto:intel-gvt-dev@lists.freedesktop.org>
List-Help: <mailto:intel-gvt-dev-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/intel-gvt-dev>, 
 <mailto:intel-gvt-dev-request@lists.freedesktop.org?subject=subscribe>
Cc: cjia@nvidia.com, kvm@vger.kernel.org, aik@ozlabs.ru,
 Zhengxiao.zx@alibaba-inc.com, shuangtai.tst@alibaba-inc.com,
 qemu-devel@nongnu.org, kwankhede@nvidia.com, eauger@redhat.com,
 yi.l.liu@intel.com, eskultet@redhat.com, ziye.yang@intel.com,
 mlevitsk@redhat.com, pasic@linux.ibm.com, libvir-list@redhat.com,
 arei.gonglei@huawei.com, felipe@nutanix.com, Ken.Xue@amd.com,
 kevin.tian@intel.com, zhenyuw@linux.intel.com, dinechin@redhat.com,
 alex.williamson@redhat.com, intel-gvt-dev@lists.freedesktop.org,
 changpeng.liu@intel.com, berrange@redhat.com, cohuck@redhat.com,
 linux-kernel@vger.kernel.org, zhi.a.wang@intel.com,
 jonathan.davies@nutanix.com, shaopeng.he@intel.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: intel-gvt-dev-bounces@lists.freedesktop.org
Sender: "intel-gvt-dev" <intel-gvt-dev-bounces@lists.freedesktop.org>

KiBZYW4gWmhhbyAoeWFuLnkuemhhb0BpbnRlbC5jb20pIHdyb3RlOgo+IFRoaXMgZmVhdHVyZSBp
bXBsZW1lbnRzIHRoZSB2ZXJzaW9uIGF0dHJpYnV0ZSBmb3IgSW50ZWwncyB2R1BVIG1kZXYKPiBk
ZXZpY2VzLgo+IAo+IHZlcnNpb24gYXR0cmlidXRlIGlzIHJ3Lgo+IEl0J3MgdXNlZCB0byBjaGVj
ayBkZXZpY2UgY29tcGF0aWJpbGl0eSBmb3IgdHdvIG1kZXYgZGV2aWNlcy4KPiB2ZXJzaW9uIHN0
cmluZyBmb3JtYXQgYW5kIGxlbmd0aCBhcmUgcHJpdmF0ZSBmb3IgdmVuZG9yIGRyaXZlci4gdmVu
ZG9yCj4gZHJpdmVyIGlzIGFibGUgdG8gZGVmaW5lIHRoZW0gZnJlZWx5Lgo+IAo+IEZvciBJbnRl
bCB2R1BVIG9mIGdlbjggYW5kIGdlbjksIHRoZSBtZGV2IGRldmljZSB2ZXJzaW9uCj4gY29uc2lz
dHMgb2YgMyBmaWVsZHM6ICJ2ZW5kb3IgaWQiICsgImRldmljZSBpZCIgKyAibWRldiB0eXBlIi4K
PiAKPiBSZWFkaW5nIGZyb20gYSB2R1BVJ3MgdmVyc2lvbiBhdHRyaWJ1dGUsIGEgc3RyaW5nIGlz
IHJldHVybmVkIGluIGJlbG93Cj4gZm9ybWF0OiA8dmVuZG9yIGlkPi08ZGV2aWNlIGlkPi08bWRl
diB0eXBlPi4gZS5nLgo+IDgwODYtMTkzYi1pOTE1LUdWVGdfVjVfMi4KPiAKPiBXcml0aW5nIGEg
c3RyaW5nIHRvIGEgdkdQVSdzIHZlcnNpb24gYXR0cmlidXRlIHdpbGwgdHJpZ2dlciBHVlQgdG8g
Y2hlY2sKPiB3aGV0aGVyIGEgdkdQVSBpZGVudGlmaWVkIGJ5IHRoZSB3cml0dGVuIHN0cmluZyBp
cyBjb21wYXRpYmxlIHdpdGgKPiBjdXJyZW50IHZHUFUgb3duaW5nIHRoaXMgdmVyc2lvbiBhdHRy
aWJ1dGUuIGVycm5vIGlzIHJldHVybmVkIGlmIHRoZSB0d28KPiB2R1BVcyBhcmUgaW5jb21wYXRp
YmxlLiBUaGUgbGVuZ3RoIG9mIHdyaXR0ZW4gc3RyaW5nIGlzIHJldHVybmVkIGluCj4gY29tcGF0
aWJsZSBjYXNlLgo+IAo+IEZvciBvdGhlciBwbGF0Zm9ybXMsIGFuZCBmb3IgR1ZUIG5vdCBzdXBw
b3J0aW5nIHZHUFUgbGl2ZSBtaWdyYXRpb24KPiBmZWF0dXJlLCBlcnJub3MgYXJlIHJldHVybmVk
IHdoZW4gcmVhZC93cml0ZSBvZiBtZGV2IGRldmljZXMnIHZlcnNpb24KPiBhdHRyaWJ1dGVzLgo+
IAo+IEZvciBvbGQgR1ZUIHZlcnNpb25zIHdoZXJlIG5vIHZlcnNpb24gYXR0cmlidXRlcyBleHBv
c2VkIGluIHN5c2ZzLCBpdCBpcwo+IHJlZ2FyZGVkIGFzIG5vdCBzdXBwb3J0aW5nIHZHUFUgbGl2
ZSBtaWdyYXRpb24uCj4gCj4gRm9yIGZ1dHVyZSBwbGF0Zm9ybXMsIGJlc2lkZXMgdGhlIGN1cnJl
bnQgMiBmaWVsZHMgaW4gdmVuZG9yIHByb3ByaWV0YXJ5Cj4gcGFydCwgbW9yZSBmaWVsZHMgbWF5
IGJlIGFkZGVkIHRvIGlkZW50aWZ5IEludGVsIHZHUFUgd2VsbCBmb3IgbGl2ZQo+IG1pZ3JhdGlv
biBwdXJwb3NlLgo+IAo+IHYyOgo+IDEuIHJlbW92ZWQgMzIgY29tbW9uIHBhcnQgb2YgdmVyc2lv
biBzdHJpbmcKPiAoQWxleCBXaWxsaWFtc29uKQo+IDIuIGRvIG5vdCByZWdpc3RlciB2ZXJzaW9u
IGF0dHJpYnV0ZSBmb3IgR1ZUIG5vdCBzdXBwb3J0aW5nIGxpdmUKPiBtaWdyYXRpb24uKENvcm5l
bGlhIEh1Y2spCj4gMy4gZm9yIHBsYXRmb3JtcyBvdXQgb2YgZ2VuOCwgZ2VuOSwgcmV0dXJuIC1F
SU5WQUwgLS0+IC1FTk9ERVYgZm9yCj4gaW5jb21wYXRpYmxlLiAoQ29ybmVsaWEgSHVjaykKPiAK
PiBDYzogQWxleCBXaWxsaWFtc29uIDxhbGV4LndpbGxpYW1zb25AcmVkaGF0LmNvbT4KPiBDYzog
RXJpayBTa3VsdGV0eSA8ZXNrdWx0ZXRAcmVkaGF0LmNvbT4KPiBDYzogIkRyLiBEYXZpZCBBbGFu
IEdpbGJlcnQiIDxkZ2lsYmVydEByZWRoYXQuY29tPgo+IENjOiBDb3JuZWxpYSBIdWNrIDxjb2h1
Y2tAcmVkaGF0LmNvbT4KPiBDYzogIlRpYW4sIEtldmluIiA8a2V2aW4udGlhbkBpbnRlbC5jb20+
Cj4gQ2M6IFpoZW55dSBXYW5nIDx6aGVueXV3QGxpbnV4LmludGVsLmNvbT4KPiBDYzogIldhbmcs
IFpoaSBBIiA8emhpLmEud2FuZ0BpbnRlbC5jb20+Cj4gYzogTmVvIEppYSA8Y2ppYUBudmlkaWEu
Y29tPgo+IENjOiBLaXJ0aSBXYW5raGVkZSA8a3dhbmtoZWRlQG52aWRpYS5jb20+Cj4gCj4gU2ln
bmVkLW9mZi1ieTogWWFuIFpoYW8gPHlhbi55LnpoYW9AaW50ZWwuY29tPgo+IC0tLQo+ICBkcml2
ZXJzL2dwdS9kcm0vaTkxNS9ndnQvTWFrZWZpbGUgICAgICAgICB8ICAyICstCj4gIGRyaXZlcnMv
Z3B1L2RybS9pOTE1L2d2dC9kZXZpY2VfdmVyc2lvbi5jIHwgODcgKysrKysrKysrKysrKysrKysr
KysrKysKPiAgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2d2dC5jICAgICAgICAgICAgfCA1MSAr
KysrKysrKysrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9ndnQuaCAgICAgICAgICAg
IHwgIDYgKysKPiAgNCBmaWxlcyBjaGFuZ2VkLCAxNDUgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlv
bigtKQo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2Rldmlj
ZV92ZXJzaW9uLmMKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L01h
a2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L01ha2VmaWxlCj4gaW5kZXggMjcxZmI0
NmQ0ZGQwLi41NGUyMDlhMjM4OTkgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5MTUv
Z3Z0L01ha2VmaWxlCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L01ha2VmaWxlCj4g
QEAgLTMsNyArMyw3IEBAIEdWVF9ESVIgOj0gZ3Z0Cj4gIEdWVF9TT1VSQ0UgOj0gZ3Z0Lm8gYXBl
cnR1cmVfZ20ubyBoYW5kbGVycy5vIHZncHUubyB0cmFjZV9wb2ludHMubyBmaXJtd2FyZS5vIFwK
PiAgCWludGVycnVwdC5vIGd0dC5vIGNmZ19zcGFjZS5vIG9wcmVnaW9uLm8gbW1pby5vIGRpc3Bs
YXkubyBlZGlkLm8gXAo+ICAJZXhlY2xpc3QubyBzY2hlZHVsZXIubyBzY2hlZF9wb2xpY3kubyBt
bWlvX2NvbnRleHQubyBjbWRfcGFyc2VyLm8gZGVidWdmcy5vIFwKPiAtCWZiX2RlY29kZXIubyBk
bWFidWYubyBwYWdlX3RyYWNrLm8KPiArCWZiX2RlY29kZXIubyBkbWFidWYubyBwYWdlX3RyYWNr
Lm8gZGV2aWNlX3ZlcnNpb24ubwo+ICAKPiAgY2NmbGFncy15CQkJCSs9IC1JJChzcmMpIC1JJChz
cmMpLyQoR1ZUX0RJUikKPiAgaTkxNS15CQkJCQkrPSAkKGFkZHByZWZpeCAkKEdWVF9ESVIpLywg
JChHVlRfU09VUkNFKSkKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2Rl
dmljZV92ZXJzaW9uLmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvZGV2aWNlX3ZlcnNpb24u
Ywo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi5iZDRjZGNiZGJh
OTUKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ3Z0L2Rldmlj
ZV92ZXJzaW9uLmMKPiBAQCAtMCwwICsxLDg3IEBACj4gKy8qCj4gKyAqIENvcHlyaWdodChjKSAy
MDExLTIwMTcgSW50ZWwgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCj4gKyAqCj4g
KyAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkg
cGVyc29uIG9idGFpbmluZyBhCj4gKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2Np
YXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCj4gKyAqIHRvIGRlYWwg
aW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxp
bWl0YXRpb24KPiArICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1
Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsCj4gKyAqIGFuZC9vciBzZWxsIGNvcGllcyBv
ZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQo+ICsgKiBT
b2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBj
b25kaXRpb25zOgo+ICsgKgo+ICsgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhp
cyBwZXJtaXNzaW9uIG5vdGljZSAoaW5jbHVkaW5nIHRoZSBuZXh0Cj4gKyAqIHBhcmFncmFwaCkg
c2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBv
ZiB0aGUKPiArICogU29mdHdhcmUuCj4gKyAqCj4gKyAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURF
RCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCj4gKyAq
IElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Yg
TUVSQ0hBTlRBQklMSVRZLAo+ICsgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBB
TkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwKPiArICogVEhFIEFVVEhPUlMg
T1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1Ig
T1RIRVIKPiArICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwg
VE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKPiArICogT1VUIE9GIE9SIElOIENPTk5F
Q1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBU
SEUKPiArICogU09GVFdBUkUuCj4gKyAqCj4gKyAqIEF1dGhvcnM6Cj4gKyAqICAgIFlhbiBaaGFv
IDx5YW4ueS56aGFvQGludGVsLmNvbT4KPiArICovCj4gKyNpbmNsdWRlIDxsaW51eC92ZmlvLmg+
Cj4gKyNpbmNsdWRlICJpOTE1X2Rydi5oIgo+ICsKPiArc3RhdGljIGJvb2wgaXNfY29tcGF0aWJs
ZShjb25zdCBjaGFyICpzZWxmLCBjb25zdCBjaGFyICpyZW1vdGUpCj4gK3sKPiArCWlmIChzdHJs
ZW4ocmVtb3RlKSAhPSBzdHJsZW4oc2VsZikpCj4gKwkJcmV0dXJuIGZhbHNlOwo+ICsKPiArCXJl
dHVybiAoc3RybmNtcChzZWxmLCByZW1vdGUsIHN0cmxlbihzZWxmKSkpID8gZmFsc2UgOiB0cnVl
Owo+ICt9Cj4gKwo+ICtzc2l6ZV90IGludGVsX2d2dF9nZXRfdmZpb19kZXZpY2VfdmVyc2lvbl9s
ZW4oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2KQo+ICt7Cj4gKwlpZiAoIUlTX0dF
TihkZXZfcHJpdiwgOCkgJiYgIUlTX0dFTihkZXZfcHJpdiwgOSkpCj4gKwkJcmV0dXJuIC1FTk9E
RVY7Cj4gKwo+ICsJcmV0dXJuIFBBR0VfU0laRTsKPiArfQo+ICsKPiArc3NpemVfdCBpbnRlbF9n
dnRfZ2V0X3ZmaW9fZGV2aWNlX3ZlcnNpb24oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9w
cml2LAo+ICsJCWNoYXIgKmJ1ZiwgY29uc3QgY2hhciAqbWRldl90eXBlKQo+ICt7Cj4gKwlpbnQg
Y250ID0gMCwgcmV0ID0gMDsKPiArCWNvbnN0IGNoYXIgKnN0ciA9IE5VTEw7Cj4gKwo+ICsJLyog
Y3VycmVudGx5IG9ubHkgZ2VuOCAmIGdlbjkgYXJlIHN1cHBvcnRlZCAqLwo+ICsJaWYgKCFJU19H
RU4oZGV2X3ByaXYsIDgpICYmICFJU19HRU4oZGV2X3ByaXYsIDkpKQo+ICsJCXJldHVybiAtRU5P
REVWOwo+ICsKPiArCS8qIHZlbmRvciBpZCArIGRldmljZSBpZCArIG1kZXYgdHlwZSAqLwo+ICsJ
LyogdmVuZG9yIGlkICovCj4gKwljbnQgPSBzbnByaW50ZihidWYsIDUsICIlMDR4IiwgUENJX1ZF
TkRPUl9JRF9JTlRFTCk7Cj4gKwlidWYgKz0gY250Owo+ICsJcmV0ICs9IGNudDsKPiArCj4gKwkv
KiBkZXZpY2UgaWQgKi8KPiArCWNudCA9IHNucHJpbnRmKGJ1ZiwgNiwgIi0lMDR4IiwgSU5URUxf
REVWSUQoZGV2X3ByaXYpKTsKPiArCWJ1ZiArPSBjbnQ7Cj4gKwlyZXQgKz0gY250Owo+ICsKPiAr
CS8qIG1kZXYgdHlwZSAqLwo+ICsJc3RyID0gbWRldl90eXBlOwo+ICsJY250ID0gc25wcmludGYo
YnVmLCBzdHJsZW4oc3RyKSArIDMsICItJXNcbiIsIG1kZXZfdHlwZSk7Cj4gKwlidWYgKz0gY250
Owo+ICsJcmV0ICs9IGNudDsKCldoeSBub3QganVzdCBvbmUgYmlnIHNucHJpbnRmPwoKRGF2ZQoK
PiArCXJldHVybiByZXQ7Cj4gK30KPiArCj4gK3NzaXplX3QgaW50ZWxfZ3Z0X2NoZWNrX3ZmaW9f
ZGV2aWNlX3ZlcnNpb24oc3RydWN0IGRybV9pOTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICsJCWNv
bnN0IGNoYXIgKnNlbGYsIGNvbnN0IGNoYXIgKnJlbW90ZSkKPiArewo+ICsKPiArCS8qIGN1cnJl
bnRseSBvbmx5IGdlbjggJiBnZW45IGFyZSBzdXBwb3J0ZWQgKi8KPiArCWlmICghSVNfR0VOKGRl
dl9wcml2LCA4KSAmJiAhSVNfR0VOKGRldl9wcml2LCA5KSkKPiArCQlyZXR1cm4gLUVOT0RFVjsK
PiArCj4gKwlpZiAoIWlzX2NvbXBhdGlibGUoc2VsZiwgcmVtb3RlKSkKPiArCQlyZXR1cm4gLUVJ
TlZBTDsKPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndnQvZ3Z0LmMgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvZ3Z0LmMKPiBpbmRl
eCA0M2Y0MjQyMDYyZGQuLjE5ZjE2ZWVjNWE0YyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vaTkxNS9ndnQvZ3Z0LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkxNS9ndnQvZ3Z0LmMK
PiBAQCAtMTA1LDE0ICsxMDUsNjUgQEAgc3RhdGljIHNzaXplX3QgZGVzY3JpcHRpb25fc2hvdyhz
dHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IGRldmljZSAqZGV2LAo+ICAJCSAgICAgICB0eXBl
LT53ZWlnaHQpOwo+ICB9Cj4gIAo+ICsjaWZkZWYgR1ZUX01JR1JBVElPTl9WRVJTSU9OCj4gK3N0
YXRpYyBzc2l6ZV90IHZlcnNpb25fc2hvdyhzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IGRl
dmljZSAqZGV2LAo+ICsJCWNoYXIgKmJ1ZikKPiArewo+ICsJc3RydWN0IGRybV9pOTE1X3ByaXZh
dGUgKmk5MTUgPSBrZGV2X3RvX2k5MTUoZGV2KTsKPiArCWNvbnN0IGNoYXIgKm1kZXZfdHlwZSA9
IGtvYmplY3RfbmFtZShrb2JqKTsKPiArCj4gKwlyZXR1cm4gaW50ZWxfZ3Z0X2dldF92ZmlvX2Rl
dmljZV92ZXJzaW9uKGk5MTUsIGJ1ZiwgbWRldl90eXBlKTsKPiArfQo+ICsKPiArc3RhdGljIHNz
aXplX3QgdmVyc2lvbl9zdG9yZShzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IGRldmljZSAq
ZGV2LAo+ICsJCWNvbnN0IGNoYXIgKmJ1Ziwgc2l6ZV90IGNvdW50KQo+ICt7Cj4gKwljaGFyICpy
ZW1vdGUgPSBOVUxMLCAqc2VsZiA9IE5VTEw7Cj4gKwlpbnQgbGVuLCByZXQgPSAwOwo+ICsJc3Ry
dWN0IGRybV9pOTE1X3ByaXZhdGUgKmk5MTUgPSBrZGV2X3RvX2k5MTUoZGV2KTsKPiArCWNvbnN0
IGNoYXIgKm1kZXZfdHlwZSA9IGtvYmplY3RfbmFtZShrb2JqKTsKPiArCj4gKwlsZW4gPSBpbnRl
bF9ndnRfZ2V0X3ZmaW9fZGV2aWNlX3ZlcnNpb25fbGVuKGk5MTUpOwo+ICsJaWYgKGxlbiA8IDAp
Cj4gKwkJcmV0dXJuIGxlbjsKPiArCj4gKwlzZWxmID0ga21hbGxvYyhsZW4sIEdGUF9LRVJORUwp
Owo+ICsJaWYgKCFzZWxmKQo+ICsJCXJldHVybiAtRU5PTUVNOwo+ICsKPiArCXJldCA9IGludGVs
X2d2dF9nZXRfdmZpb19kZXZpY2VfdmVyc2lvbihpOTE1LCBzZWxmLCBtZGV2X3R5cGUpOwo+ICsJ
aWYgKHJldCA8IDApCj4gKwkJZ290byBvdXQ7Cj4gKwo+ICsJcmVtb3RlID0ga3N0cm5kdXAoYnVm
LCBjb3VudCwgR0ZQX0tFUk5FTCk7Cj4gKwlpZiAoIXJlbW90ZSkgewo+ICsJCXJldCA9IC1FTk9N
RU07Cj4gKwkJZ290byBvdXQ7Cj4gKwl9Cj4gKwo+ICsJcmV0ID0gaW50ZWxfZ3Z0X2NoZWNrX3Zm
aW9fZGV2aWNlX3ZlcnNpb24oaTkxNSwgc2VsZiwgcmVtb3RlKTsKPiArCj4gK291dDoKPiArCWtm
cmVlKHNlbGYpOwo+ICsJa2ZyZWUocmVtb3RlKTsKPiArCXJldHVybiAocmV0IDwgMCA/IHJldCA6
IGNvdW50KTsKPiArfQo+ICsjZW5kaWYKPiArCj4gIHN0YXRpYyBNREVWX1RZUEVfQVRUUl9STyhh
dmFpbGFibGVfaW5zdGFuY2VzKTsKPiAgc3RhdGljIE1ERVZfVFlQRV9BVFRSX1JPKGRldmljZV9h
cGkpOwo+ICBzdGF0aWMgTURFVl9UWVBFX0FUVFJfUk8oZGVzY3JpcHRpb24pOwo+ICsjaWZkZWYg
R1ZUX01JR1JBVElPTl9WRVJTSU9OCj4gK3N0YXRpYyBNREVWX1RZUEVfQVRUUl9SVyh2ZXJzaW9u
KTsKPiArI2VuZGlmCj4gIAo+ICBzdGF0aWMgc3RydWN0IGF0dHJpYnV0ZSAqZ3Z0X3R5cGVfYXR0
cnNbXSA9IHsKPiAgCSZtZGV2X3R5cGVfYXR0cl9hdmFpbGFibGVfaW5zdGFuY2VzLmF0dHIsCj4g
IAkmbWRldl90eXBlX2F0dHJfZGV2aWNlX2FwaS5hdHRyLAo+ICAJJm1kZXZfdHlwZV9hdHRyX2Rl
c2NyaXB0aW9uLmF0dHIsCj4gKyNpZmRlZiBHVlRfTUlHUkFUSU9OX1ZFUlNJT04KPiArCSZtZGV2
X3R5cGVfYXR0cl92ZXJzaW9uLmF0dHIsCj4gKyNlbmRpZgo+ICAJTlVMTCwKPiAgfTsKPiAgCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9ndnQuaCBiL2RyaXZlcnMvZ3B1
L2RybS9pOTE1L2d2dC9ndnQuaAo+IGluZGV4IGY1YTMyOGI1MjkwYS4uNDA2MmY2YjI2YWNmIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2d2dC9ndnQuaAo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9pOTE1L2d2dC9ndnQuaAo+IEBAIC02ODcsNiArNjg3LDEyIEBAIHZvaWQgaW50
ZWxfZ3Z0X2RlYnVnZnNfcmVtb3ZlX3ZncHUoc3RydWN0IGludGVsX3ZncHUgKnZncHUpOwo+ICBp
bnQgaW50ZWxfZ3Z0X2RlYnVnZnNfaW5pdChzdHJ1Y3QgaW50ZWxfZ3Z0ICpndnQpOwo+ICB2b2lk
IGludGVsX2d2dF9kZWJ1Z2ZzX2NsZWFuKHN0cnVjdCBpbnRlbF9ndnQgKmd2dCk7Cj4gIAo+ICtz
c2l6ZV90IGludGVsX2d2dF9nZXRfdmZpb19kZXZpY2VfdmVyc2lvbihzdHJ1Y3QgZHJtX2k5MTVf
cHJpdmF0ZSAqaTkxNSwKPiArCQljaGFyICpidWYsIGNvbnN0IGNoYXIgKm1kZXZfdHlwZSk7Cj4g
K3NzaXplX3QgaW50ZWxfZ3Z0X2NoZWNrX3ZmaW9fZGV2aWNlX3ZlcnNpb24oc3RydWN0IGRybV9p
OTE1X3ByaXZhdGUgKmRldl9wcml2LAo+ICsJCWNvbnN0IGNoYXIgKnNlbGYsIGNvbnN0IGNoYXIg
KnJlbW90ZSk7Cj4gK3NzaXplX3QKPiAraW50ZWxfZ3Z0X2dldF92ZmlvX2RldmljZV92ZXJzaW9u
X2xlbihzdHJ1Y3QgZHJtX2k5MTVfcHJpdmF0ZSAqZGV2X3ByaXYpOwo+ICAKPiAgI2luY2x1ZGUg
InRyYWNlLmgiCj4gICNpbmNsdWRlICJtcHQuaCIKPiAtLSAKPiAyLjE3LjEKPiAKLS0KRHIuIERh
dmlkIEFsYW4gR2lsYmVydCAvIGRnaWxiZXJ0QHJlZGhhdC5jb20gLyBNYW5jaGVzdGVyLCBVSwpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwppbnRlbC1ndnQt
ZGV2IG1haWxpbmcgbGlzdAppbnRlbC1ndnQtZGV2QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2ludGVsLWd2dC1kZXY=
